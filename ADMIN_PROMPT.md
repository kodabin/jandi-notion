# ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ - ì‹±ê¸€í†¤ í”„ë¡¬í”„íŠ¸

## ë©”íƒ€ ì •ë³´
- **ë²„ì „**: 1.0.0
- **ìƒì„±ì¼**: 2025-10-10
- **ë©±ë“±ì„±**: ì´ í”„ë¡¬í”„íŠ¸ëŠ” í•­ìƒ ë™ì¼í•œ ì–´ë“œë¯¼ ì‹œìŠ¤í…œì„ ìƒì„±í•©ë‹ˆë‹¤
- **ì˜ì¡´ì„±**: SYSTEM_PROMPT.mdì˜ ë°±ì—”ë“œ APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘

---

## 1. ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ ê°œìš”

### 1.1 ëª©ì 
ì”ë”” ì›¹í›… ì²˜ë¦¬ ê³¼ì •ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , í•„ìš” ì‹œ íŠ¹ì • ë‹¨ê³„ë¥¼ ì¬ì‹œë„í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì ë„êµ¬

### 1.2 í•µì‹¬ ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: ì²˜ë¦¬ ì¤‘ì¸ ì›¹í›…ì˜ í˜„ì¬ ìƒíƒœ í‘œì‹œ
- **ì´ë ¥ ì¡°íšŒ**: ìµœê·¼ ì™„ë£Œëœ ì›¹í›… ëª©ë¡ (ìµœëŒ€ 10ê°œ)
- **ë‹¨ê³„ ì‹œê°í™”**: ê° ì›¹í›…ì˜ ì²˜ë¦¬ ë‹¨ê³„ë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ í‘œì‹œ
- **ì¬ì‹œë„ ê¸°ëŠ¥**: AI ìš”ì•½ ë‹¨ê³„ ì¬ì‹¤í–‰

---

## 2. UI/UX ëª…ì„¸

### 2.1 ë ˆì´ì•„ì›ƒ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Dashboard - ì”ë”” ì›¹í›… ëª¨ë‹ˆí„°ë§                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ìë™ ìƒˆë¡œê³ ì¹¨: ON]  ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-10-10 09:00  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ì²˜ë¦¬ ì¤‘ (0)        â”‚  â”‚  ìµœê·¼ ì™„ë£Œ (10)     â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚                     â”‚  â”‚  [ì›¹í›… ì¹´ë“œ 1]      â”‚      â”‚
â”‚  â”‚  í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸     â”‚  â”‚  [ì›¹í›… ì¹´ë“œ 2]      â”‚      â”‚
â”‚  â”‚  ì›¹í›…ì´ ì—†ìŠµë‹ˆë‹¤    â”‚  â”‚  [ì›¹í›… ì¹´ë“œ 3]      â”‚      â”‚
â”‚  â”‚                     â”‚  â”‚  ...                â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ì›¹í›… ì¹´ë“œ ë””ìì¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¨ webhook_1760055724519_u0pi4o22d                        â”‚
â”‚ ìƒíƒœ: âœ… ì™„ë£Œ   |   ì‹œì‘: 2025-10-10 00:22:04              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë©”ì‹œì§€: "/ì„œë²„ í…ŒìŠ¤íŠ¸"                                     â”‚
â”‚ ì‘ì„±ì: ê³ ë‹¤ë¹ˆ  |  ëŒ€í™”ë°©: test  |  íŒ€: ë‹˜ë²„ìŠ¤í…Œí¬(ì£¼)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì²˜ë¦¬ ë‹¨ê³„:                                                 â”‚
â”‚   âœ… [00:22:04] ì›¹í›… ìˆ˜ì‹                                  â”‚
â”‚   âœ… [00:22:04] AI ìš”ì•½ ì‹œì‘                              â”‚
â”‚   âœ… [00:22:06] AI ìš”ì•½ ì™„ë£Œ                              â”‚
â”‚      â†’ "í•µì‹¬ ë‚´ìš©ì„ 1-2ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½..."                   â”‚
â”‚   âœ… [00:22:07] ì²˜ë¦¬ ì™„ë£Œ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ”„ AI ìš”ì•½ ì¬ìƒì„±]  [ğŸ“‹ ìƒì„¸ ë¡œê·¸ ë³´ê¸°]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ë‹¨ê³„ë³„ ìƒíƒœ ì•„ì´ì½˜ ë° ìƒ‰ìƒ
```javascript
const STEP_STATUS = {
  completed: {
    icon: 'âœ…',
    color: '#22c55e',  // ë…¹ìƒ‰
    bgColor: '#dcfce7'
  },
  in_progress: {
    icon: 'ğŸ”„',
    color: '#3b82f6',  // íŒŒë€ìƒ‰
    bgColor: '#dbeafe'
  },
  pending: {
    icon: 'â³',
    color: '#94a3b8',  // íšŒìƒ‰
    bgColor: '#f1f5f9'
  },
  error: {
    icon: 'âŒ',
    color: '#ef4444',  // ë¹¨ê°„ìƒ‰
    bgColor: '#fee2e2'
  }
};
```

---

## 3. ë°ì´í„° í˜ì¹­ ëª…ì„¸

### 3.1 í´ë§ ë°©ì‹
```typescript
// 5ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
useEffect(() => {
  const interval = setInterval(() => {
    fetchWebhooks();
  }, 5000);

  return () => clearInterval(interval);
}, []);
```

### 3.2 API í˜¸ì¶œ êµ¬ì¡°
```typescript
interface FetchWebhooksResponse {
  processing: WebhookState[];  // ì²˜ë¦¬ ì¤‘ì¸ ì›¹í›…ë“¤
  recent: WebhookState[];      // ìµœê·¼ ì™„ë£Œëœ ì›¹í›…ë“¤ (ìµœëŒ€ 10ê°œ)
}

interface WebhookState {
  id: string;
  startTime: string;  // ISO 8601 format
  currentStep: 'received' | 'ai_summary_start' | 'ai_summary_complete' |
               'notion_save_start' | 'notion_save_complete' | 'completed' | 'error';
  steps: Array<{
    step: string;
    timestamp: string;
    data: Record<string, any>;
  }>;
  data: {
    text: string;
    userName: string;
    roomName: string;
    teamName: string;
    aiSummary?: string;
    error?: string;
  };
}
```

---

## 4. ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

### 4.1 AdminPage (ë©”ì¸ ì»´í¬ë„ŒíŠ¸)
```typescript
// AdminPage.tsx
const AdminPage: React.FC = () => {
  const [processing, setProcessing] = useState<WebhookState[]>([]);
  const [recent, setRecent] = useState<WebhookState[]>([]);
  const [autoRefresh, setAutoRefresh] = useState(true);
  const [lastUpdate, setLastUpdate] = useState<Date>(new Date());

  // ì›¹í›… ë°ì´í„° í˜ì¹­
  const fetchWebhooks = async () => {
    const response = await fetch('/admin/webhooks');
    const data = await response.json();
    setProcessing(data.processing);
    setRecent(data.recent);
    setLastUpdate(new Date());
  };

  // ìë™ ìƒˆë¡œê³ ì¹¨
  useEffect(() => {
    if (!autoRefresh) return;
    const interval = setInterval(fetchWebhooks, 5000);
    return () => clearInterval(interval);
  }, [autoRefresh]);

  // ì´ˆê¸° ë¡œë“œ
  useEffect(() => {
    fetchWebhooks();
  }, []);

  return (
    <div className="admin-page">
      <Header
        autoRefresh={autoRefresh}
        onToggleAutoRefresh={() => setAutoRefresh(!autoRefresh)}
        lastUpdate={lastUpdate}
      />
      <div className="content">
        <Section title="ì²˜ë¦¬ ì¤‘" count={processing.length}>
          {processing.map(webhook => (
            <WebhookCard key={webhook.id} webhook={webhook} />
          ))}
        </Section>
        <Section title="ìµœê·¼ ì™„ë£Œ" count={recent.length}>
          {recent.map(webhook => (
            <WebhookCard key={webhook.id} webhook={webhook} />
          ))}
        </Section>
      </div>
    </div>
  );
};
```

### 4.2 WebhookCard ì»´í¬ë„ŒíŠ¸
```typescript
interface WebhookCardProps {
  webhook: WebhookState;
}

const WebhookCard: React.FC<WebhookCardProps> = ({ webhook }) => {
  const [retrying, setRetrying] = useState(false);
  const [showDetails, setShowDetails] = useState(false);

  const handleRetryAiSummary = async () => {
    setRetrying(true);
    try {
      const response = await fetch('/admin/retry-ai-summary', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ webhookId: webhook.id })
      });
      const result = await response.json();

      if (result.success) {
        alert(`âœ… AI ìš”ì•½ì´ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤:\n${result.newSummary}`);
      } else {
        alert(`âŒ ì¬ìƒì„± ì‹¤íŒ¨: ${result.error}`);
      }
    } catch (error: any) {
      alert(`âŒ ì—ëŸ¬: ${error.message}`);
    } finally {
      setRetrying(false);
    }
  };

  return (
    <div className={`webhook-card webhook-card--${webhook.currentStep}`}>
      {/* í—¤ë” */}
      <div className="webhook-card__header">
        <div className="webhook-card__id">
          ğŸ“¨ {webhook.id}
        </div>
        <div className="webhook-card__meta">
          {getStatusBadge(webhook.currentStep)} | ì‹œì‘: {formatTime(webhook.startTime)}
        </div>
      </div>

      {/* ë³¸ë¬¸ */}
      <div className="webhook-card__body">
        <div className="webhook-card__message">
          ë©”ì‹œì§€: "{truncate(webhook.data.text, 50)}"
        </div>
        <div className="webhook-card__info">
          ì‘ì„±ì: {webhook.data.userName} | ëŒ€í™”ë°©: {webhook.data.roomName} | íŒ€: {webhook.data.teamName}
        </div>
      </div>

      {/* ì²˜ë¦¬ ë‹¨ê³„ */}
      <div className="webhook-card__steps">
        <div className="webhook-card__steps-title">ì²˜ë¦¬ ë‹¨ê³„:</div>
        {webhook.steps.map((step, index) => (
          <StepItem key={index} step={step} />
        ))}
      </div>

      {/* ì•¡ì…˜ ë²„íŠ¼ */}
      <div className="webhook-card__actions">
        <button
          onClick={handleRetryAiSummary}
          disabled={retrying || webhook.currentStep === 'processing'}
          className="btn btn-retry"
        >
          {retrying ? 'â³ ì¬ìƒì„± ì¤‘...' : 'ğŸ”„ AI ìš”ì•½ ì¬ìƒì„±'}
        </button>
        <button
          onClick={() => setShowDetails(!showDetails)}
          className="btn btn-details"
        >
          ğŸ“‹ {showDetails ? 'ë‹«ê¸°' : 'ìƒì„¸ ë¡œê·¸ ë³´ê¸°'}
        </button>
      </div>

      {/* ìƒì„¸ ë¡œê·¸ */}
      {showDetails && (
        <div className="webhook-card__details">
          <pre>{JSON.stringify(webhook, null, 2)}</pre>
        </div>
      )}
    </div>
  );
};
```

### 4.3 StepItem ì»´í¬ë„ŒíŠ¸
```typescript
interface StepItemProps {
  step: {
    step: string;
    timestamp: string;
    data: Record<string, any>;
  };
}

const StepItem: React.FC<StepItemProps> = ({ step }) => {
  const status = getStepStatus(step.step);
  const icon = STEP_STATUS[status].icon;
  const color = STEP_STATUS[status].color;

  return (
    <div className="step-item" style={{ color }}>
      <span className="step-item__icon">{icon}</span>
      <span className="step-item__time">[{formatTime(step.timestamp)}]</span>
      <span className="step-item__name">{getStepName(step.step)}</span>
      {step.data.aiSummary && (
        <div className="step-item__summary">
          â†’ "{truncate(step.data.aiSummary, 80)}"
        </div>
      )}
      {step.data.error && (
        <div className="step-item__error">
          âŒ {step.data.error}
        </div>
      )}
    </div>
  );
};
```

### 4.4 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```typescript
// ì‹œê°„ í¬ë§·íŒ… (HH:MM:SS)
const formatTime = (isoString: string): string => {
  const date = new Date(isoString);
  return date.toLocaleTimeString('ko-KR', {
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit'
  });
};

// í…ìŠ¤íŠ¸ ìë¥´ê¸°
const truncate = (text: string, maxLength: number): string => {
  if (text.length <= maxLength) return text;
  return text.substring(0, maxLength) + '...';
};

// ìƒíƒœ ë°°ì§€ ìƒì„±
const getStatusBadge = (currentStep: string): string => {
  const badges: Record<string, string> = {
    'received': 'â³ ìˆ˜ì‹ ë¨',
    'ai_summary_start': 'ğŸ”„ AI ì²˜ë¦¬ ì¤‘',
    'ai_summary_complete': 'âœ… AI ì™„ë£Œ',
    'notion_save_start': 'ğŸ”„ Notion ì €ì¥ ì¤‘',
    'notion_save_complete': 'âœ… Notion ì™„ë£Œ',
    'completed': 'âœ… ì™„ë£Œ',
    'error': 'âŒ ì—ëŸ¬'
  };
  return badges[currentStep] || 'â“ ì•Œ ìˆ˜ ì—†ìŒ';
};

// ë‹¨ê³„ëª… í•œê¸€í™”
const getStepName = (step: string): string => {
  const names: Record<string, string> = {
    'received': 'ì›¹í›… ìˆ˜ì‹ ',
    'ai_summary_start': 'AI ìš”ì•½ ì‹œì‘',
    'ai_summary_complete': 'AI ìš”ì•½ ì™„ë£Œ',
    'notion_save_start': 'Notion ì €ì¥ ì‹œì‘',
    'notion_save_complete': 'Notion ì €ì¥ ì™„ë£Œ',
    'completed': 'ì²˜ë¦¬ ì™„ë£Œ',
    'error': 'ì—ëŸ¬ ë°œìƒ'
  };
  return names[step] || step;
};

// ë‹¨ê³„ ìƒíƒœ íŒë‹¨
const getStepStatus = (stepName: string): 'completed' | 'in_progress' | 'pending' | 'error' => {
  if (stepName === 'error') return 'error';
  if (stepName.includes('start')) return 'in_progress';
  return 'completed';
};
```

---

## 5. CSS ìŠ¤íƒ€ì¼ ëª…ì„¸

### 5.1 ì „ì—­ ìŠ¤íƒ€ì¼
```css
/* AdminPage.css */
.admin-page {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.admin-page__header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 30px;
  border-radius: 12px;
  margin-bottom: 30px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.admin-page__title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 10px;
}

.admin-page__controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
}

.admin-page__content {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 30px;
}

@media (max-width: 1024px) {
  .admin-page__content {
    grid-template-columns: 1fr;
  }
}
```

### 5.2 ì›¹í›… ì¹´ë“œ ìŠ¤íƒ€ì¼
```css
.webhook-card {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.webhook-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

/* ìƒíƒœë³„ ë³´ë” ìƒ‰ìƒ */
.webhook-card--completed {
  border-left: 4px solid #22c55e;
}

.webhook-card--error {
  border-left: 4px solid #ef4444;
}

.webhook-card--processing {
  border-left: 4px solid #3b82f6;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.webhook-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e5e7eb;
}

.webhook-card__id {
  font-family: 'Courier New', monospace;
  font-size: 13px;
  color: #6b7280;
}

.webhook-card__meta {
  font-size: 13px;
  color: #9ca3af;
}

.webhook-card__body {
  margin-bottom: 15px;
}

.webhook-card__message {
  font-size: 15px;
  font-weight: 500;
  margin-bottom: 8px;
  color: #1f2937;
}

.webhook-card__info {
  font-size: 13px;
  color: #6b7280;
}

.webhook-card__steps {
  background: #f9fafb;
  border-radius: 6px;
  padding: 15px;
  margin-bottom: 15px;
}

.webhook-card__steps-title {
  font-weight: 600;
  margin-bottom: 10px;
  color: #374151;
}

.webhook-card__actions {
  display: flex;
  gap: 10px;
}

.btn {
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-retry {
  background: #3b82f6;
  color: white;
}

.btn-retry:hover:not(:disabled) {
  background: #2563eb;
}

.btn-details {
  background: #6b7280;
  color: white;
}

.btn-details:hover {
  background: #4b5563;
}

.webhook-card__details {
  background: #1f2937;
  color: #e5e7eb;
  border-radius: 6px;
  padding: 15px;
  margin-top: 15px;
  overflow-x: auto;
}

.webhook-card__details pre {
  margin: 0;
  font-size: 12px;
  font-family: 'Courier New', monospace;
}
```

### 5.3 ë‹¨ê³„ ì•„ì´í…œ ìŠ¤íƒ€ì¼
```css
.step-item {
  padding: 8px 0;
  font-size: 14px;
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.step-item__icon {
  flex-shrink: 0;
}

.step-item__time {
  font-family: 'Courier New', monospace;
  font-size: 12px;
  color: #6b7280;
  flex-shrink: 0;
}

.step-item__name {
  font-weight: 500;
}

.step-item__summary {
  margin-top: 5px;
  padding-left: 28px;
  font-size: 13px;
  color: #059669;
  font-style: italic;
}

.step-item__error {
  margin-top: 5px;
  padding-left: 28px;
  font-size: 13px;
  color: #dc2626;
  font-weight: 500;
}
```

### 5.4 ì„¹ì…˜ ìŠ¤íƒ€ì¼
```css
.section {
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.section__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #e5e7eb;
}

.section__title {
  font-size: 20px;
  font-weight: 700;
  color: #1f2937;
}

.section__count {
  background: #3b82f6;
  color: white;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
}

.section__empty {
  text-align: center;
  padding: 40px 20px;
  color: #9ca3af;
  font-size: 15px;
}
```

---

## 6. ì¬ì‹œë„ ê¸°ëŠ¥ ìƒì„¸ ëª…ì„¸

### 6.1 ì¬ì‹œë„ ë²„íŠ¼ í™œì„±í™” ì¡°ê±´
```typescript
const canRetryAiSummary = (webhook: WebhookState): boolean => {
  // ì—ëŸ¬ ìƒíƒœì´ê±°ë‚˜ ì™„ë£Œëœ ê²½ìš°ë§Œ ì¬ì‹œë„ ê°€ëŠ¥
  if (webhook.currentStep === 'error' || webhook.currentStep === 'completed') {
    return true;
  }

  // ì²˜ë¦¬ ì¤‘ì¸ ê²½ìš° ì¬ì‹œë„ ë¶ˆê°€
  if (webhook.currentStep.includes('start') || webhook.currentStep === 'received') {
    return false;
  }

  return true;
};
```

### 6.2 ì¬ì‹œë„ í”Œë¡œìš°
```
ì‚¬ìš©ì í´ë¦­
    â†“
[í™•ì¸] ë²„íŠ¼ ë¹„í™œì„±í™” + "â³ ì¬ìƒì„± ì¤‘..." í‘œì‹œ
    â†“
POST /admin/retry-ai-summary { webhookId }
    â†“
ì„±ê³µ â†’ alert("âœ… AI ìš”ì•½ì´ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
ì‹¤íŒ¨ â†’ alert("âŒ ì¬ìƒì„± ì‹¤íŒ¨: {ì—ëŸ¬ ë©”ì‹œì§€}")
    â†“
[í™•ì¸] ë²„íŠ¼ í™œì„±í™”
    â†“
ìë™ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ìƒˆ ë°ì´í„° ë°˜ì˜
```

### 6.3 ì‚¬ìš©ì í”¼ë“œë°±
```typescript
// ì„±ê³µ ì•Œë¦¼
alert(`âœ… AI ìš”ì•½ì´ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤:\n\n${result.newSummary}`);

// ì‹¤íŒ¨ ì•Œë¦¼ (409 Conflict)
alert(`âŒ ì¬ìƒì„± ì‹¤íŒ¨: í•´ë‹¹ ì›¹í›…ì´ ì•„ì§ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤`);

// ì‹¤íŒ¨ ì•Œë¦¼ (404 Not Found)
alert(`âŒ ì¬ìƒì„± ì‹¤íŒ¨: ì›¹í›… ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜ í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤`);

// ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬
alert(`âŒ ì—ëŸ¬: ì„œë²„ì™€ í†µì‹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤`);
```

---

## 7. ì—ëŸ¬ ì²˜ë¦¬

### 7.1 API ì—ëŸ¬ ì²˜ë¦¬
```typescript
const handleApiError = async (response: Response) => {
  if (!response.ok) {
    const errorData = await response.json();
    throw new Error(errorData.error || `HTTP ${response.status}`);
  }
  return response.json();
};

// ì‚¬ìš© ì˜ˆì‹œ
try {
  const response = await fetch('/admin/webhooks');
  const data = await handleApiError(response);
  setProcessing(data.processing);
  setRecent(data.recent);
} catch (error: any) {
  console.error('ì›¹í›… ì¡°íšŒ ì‹¤íŒ¨:', error);
  // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ í‘œì‹œ (í† ìŠ¤íŠ¸ ë˜ëŠ” ì•Œë¦¼)
}
```

### 7.2 ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ
```typescript
const fetchWithTimeout = async (url: string, options: RequestInit = {}, timeout = 10000) => {
  const controller = new AbortController();
  const id = setTimeout(() => controller.abort(), timeout);

  try {
    const response = await fetch(url, {
      ...options,
      signal: controller.signal
    });
    clearTimeout(id);
    return response;
  } catch (error: any) {
    clearTimeout(id);
    if (error.name === 'AbortError') {
      throw new Error('ìš”ì²­ ì‹œê°„ ì´ˆê³¼ (10ì´ˆ)');
    }
    throw error;
  }
};
```

---

## 8. ì„±ëŠ¥ ìµœì í™”

### 8.1 ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
```typescript
// React.memoë¡œ ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const WebhookCard = React.memo<WebhookCardProps>(({ webhook }) => {
  // ...
}, (prevProps, nextProps) => {
  // webhook.idê°€ ê°™ê³  currentStepì´ ê°™ìœ¼ë©´ ë¦¬ë Œë”ë§ ì•ˆ í•¨
  return prevProps.webhook.id === nextProps.webhook.id &&
         prevProps.webhook.currentStep === nextProps.webhook.currentStep;
});
```

### 8.2 ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
```typescript
// ìµœê·¼ ì™„ë£Œ ëª©ë¡ì€ ìµœëŒ€ 10ê°œë§Œ í‘œì‹œ
const MAX_RECENT_WEBHOOKS = 10;

// ì„œë²„ì—ì„œ ì´ë¯¸ 10ê°œë¡œ ì œí•œë˜ì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
const displayedRecent = recent.slice(0, MAX_RECENT_WEBHOOKS);
```

---

## 9. ì ‘ê·¼ì„± (Accessibility)

### 9.1 í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
```tsx
<button
  onClick={handleRetryAiSummary}
  onKeyPress={(e) => e.key === 'Enter' && handleRetryAiSummary()}
  aria-label="AI ìš”ì•½ ì¬ìƒì„±"
  disabled={retrying}
>
  {retrying ? 'â³ ì¬ìƒì„± ì¤‘...' : 'ğŸ”„ AI ìš”ì•½ ì¬ìƒì„±'}
</button>
```

### 9.2 ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
```tsx
<div role="region" aria-label="ì›¹í›… ì²˜ë¦¬ ë‹¨ê³„">
  {webhook.steps.map((step, index) => (
    <div key={index} role="listitem" aria-label={`${getStepName(step.step)}, ${formatTime(step.timestamp)}`}>
      <StepItem step={step} />
    </div>
  ))}
</div>
```

---

## 10. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 10.1 ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
```
â–¡ í˜ì´ì§€ ë¡œë“œ ì‹œ ì›¹í›… ëª©ë¡ì´ í‘œì‹œë˜ëŠ”ê°€?
â–¡ 5ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨ì´ ë™ì‘í•˜ëŠ”ê°€?
â–¡ ìë™ ìƒˆë¡œê³ ì¹¨ í† ê¸€ì´ ì‘ë™í•˜ëŠ”ê°€?
â–¡ ì›¹í›… ì¹´ë“œì— ëª¨ë“  ì •ë³´ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ê°€?
â–¡ ë‹¨ê³„ë³„ ì•„ì´ì½˜ê³¼ ìƒ‰ìƒì´ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ê°€?
â–¡ AI ìš”ì•½ ì¬ìƒì„± ë²„íŠ¼ì´ ì‘ë™í•˜ëŠ”ê°€?
â–¡ ì¬ìƒì„± ì¤‘ ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ëŠ”ê°€?
â–¡ ì¬ìƒì„± ì„±ê³µ ì‹œ ì•Œë¦¼ì´ í‘œì‹œë˜ëŠ”ê°€?
â–¡ ì¬ìƒì„± ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ëŠ”ê°€?
â–¡ ìƒì„¸ ë¡œê·¸ ë³´ê¸°/ë‹«ê¸°ê°€ ì‘ë™í•˜ëŠ”ê°€?
â–¡ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒì´ ëª¨ë°”ì¼ì—ì„œ ì •ìƒ ë™ì‘í•˜ëŠ”ê°€?
```

### 10.2 ìë™í™” í…ŒìŠ¤íŠ¸ (ì¶”í›„ êµ¬í˜„)
```typescript
// ì˜ˆì‹œ: Jest + React Testing Library
describe('AdminPage', () => {
  it('should fetch and display webhooks on mount', async () => {
    render(<AdminPage />);
    await waitFor(() => {
      expect(screen.getByText(/ì²˜ë¦¬ ì¤‘/)).toBeInTheDocument();
    });
  });

  it('should retry AI summary when button clicked', async () => {
    render(<AdminPage />);
    const retryButton = screen.getByText(/AI ìš”ì•½ ì¬ìƒì„±/);
    fireEvent.click(retryButton);
    await waitFor(() => {
      expect(screen.getByText(/ì¬ìƒì„± ì¤‘/)).toBeInTheDocument();
    });
  });
});
```

---

## 11. ë°°í¬ ë° ë¹Œë“œ

### 11.1 í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
```bash
# ê°œë°œ ëª¨ë“œ
cd frontend
npm start

# í”„ë¡œë•ì…˜ ë¹Œë“œ
cd frontend
npm run build
cd ..

# ë¹Œë“œ ê²°ê³¼ë¬¼ì€ frontend/buildì— ìƒì„±ë¨
# Express ì„œë²„ê°€ ì´ë¥¼ ì •ì  íŒŒì¼ë¡œ ì œê³µ
```

### 11.2 í™˜ê²½ë³„ ì„¤ì •
```typescript
// config.ts
const config = {
  development: {
    apiBaseUrl: 'http://localhost:3000',
    refreshInterval: 5000
  },
  production: {
    apiBaseUrl: process.env.REACT_APP_API_URL || '',
    refreshInterval: 10000
  }
};

export default config[process.env.NODE_ENV || 'development'];
```

---

## 12. ì•Œë ¤ì§„ ì œì•½ì‚¬í•­

### 12.1 í˜„ì¬ êµ¬í˜„ëœ ê¸°ëŠ¥
- âœ… ì‹¤ì‹œê°„ í´ë§ (5ì´ˆ ê°„ê²©)
- âœ… ì›¹í›… ëª©ë¡ ì¡°íšŒ
- âœ… ë‹¨ê³„ë³„ ì‹œê°í™”
- âœ… AI ìš”ì•½ ì¬ìƒì„±

### 12.2 ë¯¸êµ¬í˜„ ê¸°ëŠ¥ (ì¶”í›„ ê°œì„ )
- âŒ WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- âŒ ë‚ ì§œë³„ í•„í„°ë§
- âŒ ê²€ìƒ‰ ê¸°ëŠ¥
- âŒ í˜ì´ì§€ë„¤ì´ì…˜
- âŒ ì‚¬ìš©ì ì¸ì¦
- âŒ ì›¹í›… ì‚­ì œ ê¸°ëŠ¥
- âŒ í†µê³„ ë° ì°¨íŠ¸

---

## 13. í–¥í›„ ê°œì„  ë°©í–¥

### 13.1 ê³ ê¸‰ ê¸°ëŠ¥
```typescript
// ë‚ ì§œ í•„í„°ë§
interface FilterOptions {
  dateFrom?: string;  // ISO 8601
  dateTo?: string;
  status?: 'completed' | 'error' | 'processing';
  roomName?: string;
  userName?: string;
}

// ê²€ìƒ‰
const searchWebhooks = (query: string, webhooks: WebhookState[]) => {
  return webhooks.filter(w =>
    w.data.text.includes(query) ||
    w.data.userName.includes(query) ||
    w.data.roomName.includes(query)
  );
};

// í†µê³„
interface WebhookStats {
  totalProcessed: number;
  totalErrors: number;
  averageProcessingTime: number;  // ms
  successRate: number;  // 0-100
}
```

### 13.2 UI ê°œì„ 
- ë‹¤í¬ ëª¨ë“œ ì§€ì›
- ì»¤ìŠ¤í…€ í…Œë§ˆ
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ì¹´ë“œ ì •ë ¬
- ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

### 13.3 ì•Œë¦¼ ê¸°ëŠ¥
- ì—ëŸ¬ ë°œìƒ ì‹œ ë¸Œë¼ìš°ì € ì•Œë¦¼
- ì´ë©”ì¼ ì•Œë¦¼ (ì„œë²„ ì‚¬ì´ë“œ)
- Slack/Discord ì—°ë™

---

## 14. FAQ

### Q1: ì›¹í›…ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
**A**:
1. ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸ (`http://localhost:3000`)
2. `/admin/webhooks` APIê°€ ì •ìƒ ì‘ë‹µí•˜ëŠ”ì§€ í™•ì¸
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

### Q2: ìë™ ìƒˆë¡œê³ ì¹¨ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
**A**:
1. ìë™ ìƒˆë¡œê³ ì¹¨ í† ê¸€ì´ ONì¸ì§€ í™•ì¸
2. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network íƒ­ì—ì„œ 5ì´ˆë§ˆë‹¤ ìš”ì²­ì´ ê°€ëŠ”ì§€ í™•ì¸

### Q3: AI ìš”ì•½ ì¬ìƒì„±ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤
**A**:
1. `.env` íŒŒì¼ì˜ `OPENAI_API_KEY`ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
2. ì„œë²„ ë¡œê·¸ì—ì„œ ìƒì„¸ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
3. ì›¹í›…ì´ ì•„ì§ ì²˜ë¦¬ ì¤‘ì´ ì•„ë‹Œì§€ í™•ì¸

---

## 15. ë³€ê²½ ì´ë ¥

### v1.0.0 (2025-10-10)
- ì´ˆê¸° ì‹±ê¸€í†¤ í”„ë¡¬í”„íŠ¸ ì‘ì„±
- React + TypeScript ê¸°ë°˜
- ì‹¤ì‹œê°„ í´ë§ ë°©ì‹
- AI ìš”ì•½ ì¬ìƒì„± ê¸°ëŠ¥

---

**ë¬¸ì„œ ì¢…ë£Œ**
